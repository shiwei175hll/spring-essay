# Spring IOC/DI

## 概述

对于Spring的使用过程中，我们肯定对IOC/DI这两个词不陌生，简单来说IOC与DI给我们提供了一种容器化的概念，我们对于对使用到的外部资源由容器去提供，而不需要自己去以主动创建的形式去编码，从而达到松耦合的目的，降低代码的编写量，提高阅读性。

IOC英文Inversion Of Control缩写，意为控制反转，其实际本质为容器，而对外部资源的控制以及依赖关系上，交由容器去处理，并不需要对象本身去控制处理。

DI英文Dependency Injection缩写，意为依赖注入，对象请求容易内部某个资源时，容器主动将资源注入到该对象中。

## 解释

在分开阐述IOC与DI时，其实我们会发现两者时密不可分的，甚至于说两者其实是对同样过程的不同维度的描述。

1. 首先我们需要了解正常编码过程中我们对象使用的流程

    - A对象需要使用到B对象，这时我们需要通过new一个B对象来获取；
    - 在实际对B对象的使用过程中，我们需要一直保持着对B对象的引用；
    - 使用完成之后，B对象将会由GC进行回收。

2. IOC容器化概念

    IOC中我们提出了一个容器化概念，就是假定由一个容器，由他来提供对象的创建，引用，销毁等控制，这时我们在使用到某个资源（例如上一条中的B对象）的时候，我们不需要去手动去处理该资源的控制过程，我们仅仅需要去容器中查找这个资源，然后由容器给我们去提供，这个过程我们称之为IOC/DI。

    使用到IOC之后上述流程，我们可以变换成如下

        - A对象需要使用到B对象，这时A对象告诉IOC容器，IOC容器去内部检索或者创建出B对象来，注入到A对象中。

        - 整个过程中A对象并不需要知道B对象的来源，同时也不需要关心B对象的生命周期，仅仅告诉容器需求的资源，其他的所有控制都由容器去管理

        - 这种使用方式、设计思想，大大的减少了我们对于编码的要求，同时代码量的减少也增加了代码的阅读性，最后我们也解决了大量new对象等控制代码带来的耦合问题

    为什么这个过程我们会叫做IOC/DI两个名词呢，这个我们从本质来讲。

    1. IOC（控制反转），这个过程我们理解为原本A对象原本需要自己手动去创建、管理需求资源、生命周期的控制过程，我们称之为控制（控制正转）。

        而将这些交由容器去处理，我们仅仅需要告知容器需求，容器去控制资源的过程，并将容器注入到A对象，这个过程对于A对象来说只是被动的去接收容器提供的资源，也就时控制反转。

    2. DI（依赖注入），同理在上述过程中，我们A对象在需求容器提供的资源时，前提条件是这个容器提供了我们的依赖，也就是说我们需要依赖与容器，然后容器将我们需求的资源主动注入到A中，这个就是依赖注入。

综上，以上就是我对IOC/DI的理解

## 上一篇

[什么是spring](/document/spring简述.md)

## 下一篇

[Spring Bean配置及管理](/document/SpringBean配置及管理.md)